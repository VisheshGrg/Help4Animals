<% layout('layout/boilerplate') %>

<div class="adoption-image">
    <h1>Animals available for Adoption</h1>
    <i class="bi bi-arrow-down" style="color: white;"></i>
</div>

<div class="cont-adoptions-index margin-left-right">
    <div class="all-adoptions">
        <% for(const [i,adoption] of adoptions.entries()) {%>
            <div class="adoption-item card">
                <% if(adoption.images.length>=1){ %>
                    <img class="card-img-top img-fluid" style="max-height: 186.2px;" src="<%= adoption.images[0].url %>" alt="shelter image">
                <% } else { %>
                    <img class="img-fluid card-img-top" style="max-height: 186.2px;" src="https://t4.ftcdn.net/jpg/04/73/25/49/360_F_473254957_bxG9yf4ly7OBO5I0O5KABlN930GwaMQz.jpg" alt="no image">
                <% } %>
                <div class="adoption-body">
                    <h5 class="card-title adoption-title" style="margin-bottom: 8px;"><%= adoption.species %></h5>
                    <p class="card-text" style="margin-bottom: 13px; color: #495057;"><small><%= adoption.location %></small></p>
                    <!-- <div class="card-text adoption-text">
                        <p style="display: inline;">Age: <%= adoption.age %> yrs</p>
                        <p style="display: inline;">Gender: <%= adoption.gender %></p>
                    </div> -->
                    <a class="btn btn-sm btn-primary" href="/adoptions/<%= adoption._id %>">View details</a>
                </div>
            </div>
        <% } %>
    </div>
    <div class="adoptions-filter">
        <h3>Filter</h3>
        <form action="/adoptions/filter" method="POST" novalidate class="validated-form">
            <label class="form-label" for="species">Species: </label>
            <input class="form-control mb-3" type="text" id="species" name="species" value="<%= values[0] %>">
            <div class="mb-3">
                <label class="form-label" for="gender">Gender: </label>
                <select name="gender" style="margin-right: 10px;" id="gender" class="mb-3">
                    <option value="" disabled selected>Gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
                <label class="form-label" for="age">Age: </label>
                <input type="number" min="0" max="100" id="age" name="age" value="<%= values[3] %>">
            </div>
            <label class="form-label" for="location">Location: </label>
            <input type="text" id="location" name="location" class="form-control mb-3" value="<%= values[2] %>">
            <button class="btn btn-sm btn-secondary">Filter</button>
            <a class="btn btn-sm btn-secondary" href="/adoptions/index">Reset</a>
        </form>
    </div>
</div>